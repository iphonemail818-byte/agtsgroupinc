<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>AGTS Booking</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

<style>
body{background:#000;color:#0ff;font-family:Arial;margin:0}
.container{max-width:900px;margin:40px auto;padding:20px}
.field{display:none;margin-top:12px}
.field.show{display:block}
input,select{width:100%;padding:12px;background:#111;color:#0ff;border:1px solid #333;border-radius:12px}
.input-error{border:2px solid #ff3b81}
#summary{display:none;background:#222;padding:16px;border-radius:16px;margin-top:20px}
button{display:none;margin-top:20px;padding:14px;width:100%;border:none;border-radius:14px;background:#0ff;color:#000;font-weight:bold}
</style>
</head>

<body>
<div class="container">

<div class="field show">
  <label>Pickup</label>
  <input id="pickup">
</div>

<div class="field show">
  <label>Dropoff</label>
  <input id="dropoff">
</div>

<div class="field" id="dateWrap">
  <label>Date</label>
  <input id="date">
</div>

<div class="field" id="timeWrap">
  <label>Time</label>
  <input id="time">
</div>

<div class="field" id="vehicleWrap">
  <label>Vehicle</label>
  <select id="vehicle">
    <option value="">Select</option>
    <option>SUV</option>
    <option>Escalade</option>
  </select>
</div>

<div class="field" id="nameWrap">
  <label>Name</label>
  <input id="name">
</div>

<div class="field" id="emailWrap">
  <label>Email</label>
  <input id="email">
</div>

<div id="summary"></div>

<button id="pay">Book & Pay</button>

</div>

<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
const pickup=document.getElementById("pickup");
const dropoff=document.getElementById("dropoff");
const date=document.getElementById("date");
const time=document.getElementById("time");
const vehicle=document.getElementById("vehicle");
const name=document.getElementById("name");
const email=document.getElementById("email");

const dateWrap=document.getElementById("dateWrap");
const timeWrap=document.getElementById("timeWrap");
const vehicleWrap=document.getElementById("vehicleWrap");
const nameWrap=document.getElementById("nameWrap");
const emailWrap=document.getElementById("emailWrap");

const summary=document.getElementById("summary");
const pay=document.getElementById("pay");

flatpickr(date,{minDate:"today"});
flatpickr(time,{enableTime:true,noCalendar:true});

function check(){
  if(pickup.value && dropoff.value) dateWrap.classList.add("show");
  else return reset(1);

  if(date.value) timeWrap.classList.add("show");
  else return reset(2);

  if(time.value) vehicleWrap.classList.add("show");
  else return reset(3);

  if(vehicle.value){
    nameWrap.classList.add("show");
    emailWrap.classList.add("show");
    pay.style.display="block";
  }else return reset(4);

  if(name.value && email.value){
    summary.innerHTML=
      "Pickup: "+pickup.value+"<br>"+
      "Dropoff: "+dropoff.value+"<br>"+
      "Date: "+date.value+" "+time.value+"<br>"+
      "Vehicle: "+vehicle.value;
    summary.style.display="block";
  }else{
    summary.style.display="none";
  }
}

function reset(step){
  summary.style.display="none";
  if(step<=4) pay.style.display="none";
}

[pickup,dropoff,date,time,vehicle,name,email].forEach(el=>{
  el.addEventListener("input",()=>{
    el.classList.remove("input-error");
    check();
  });
});

pay.onclick=()=>{
  let first=null;
  [pickup,dropoff,date,time,vehicle,name,email].forEach(el=>{
    if(!el.value){
      el.classList.add("input-error");
      if(!first) first=el;
    }
  });
  if(first) return;
  alert("Success");
};
</script>
</body>
</html>
